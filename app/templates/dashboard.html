{% extends "layout.html" %}

{% block title %}Dashboard - MentorMatrix{% endblock %}

{% block other_head_stuff %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard/dashboard.css') }}">
    <!-- Replace individual popup styles with the merged file -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/popup.css') }}">
{% endblock %}

{% block content %}
<div id="main-content">
    <div class="profile">
        <span class="profile-icon">S</span> 
        <span class="profile-name">Shoaib Shaik</span>
    </div>
    <!-- Dashboard Header -->
    <section class="dashboard-header">
        <h2>Dashboard</h2>
        <p>Create new notes</p>
        <div class="upload-options">
            <button class="upload-option-btn" data-modal-type="audio">
                <i class="fas fa-microphone"></i> Record or Upload Audio
            </button>
            <button class="upload-option-btn" data-modal-type="youtube">
                <i class="fab fa-youtube"></i> YouTube Video
            </button>
            <button class="upload-option-btn" data-modal-type="pdf">
                <i class="fas fa-file-pdf"></i> PDF Upload
            </button>
        </div>
    </section>

    <!-- Audio Popup Modal -->
    <div class="popup-overlay audio-popup hidden" data-modal-type="audio">
        <div class="popup-container">
            <span class="close-btn">&times;</span>
            <h3>Record or Upload Audio</h3>
            <input id="audio-input" type="file" accept="audio/*" />
            <button id="record-button">Start Recording</button>
            <button id="upload-button" disabled>Upload Audio</button>
            <audio id="audio-player" class="hidden" controls></audio>
        </div>
    </div>

    <!-- YouTube Popup Modal -->
    <div class="popup-overlay youtube-popup hidden" data-modal-type="youtube">
        <div class="popup-container">
            <span class="close-btn">&times;</span>
            <h3>Upload YouTube Video</h3>
            <label for="youtube-url">YouTube URL:</label>
            <input id="youtube-url" type="url" placeholder="Enter YouTube URL" required />
            <button id="submit-youtube-button">Submit</button>
        </div>
    </div>
    
    <!-- PDF Popup Modal -->
    <div class="popup-overlay pdf-popup hidden" data-modal-type="pdf">
        <div class="popup-container">
            <span class="close-btn">&times;</span>
            <h3>PDF Upload</h3>
            <input id="pdf-input" type="file" accept="application/pdf" />
            <button id="submit-pdf-button">Submit</button>
        </div>
    </div>
</div>

<!-- Progress Bar Container -->
<div id="progress-container" class="hidden">
    <div class="w-full bg-gray-200 rounded-full dark:bg-gray-700">
        <div id="progress-bar" class="bg-blue-600 text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full" style="width: 0%"></div>
    </div>
</div>

<!-- Only include the consolidated popup.js - REMOVE ALL OTHER POPUP SCRIPT IMPORTS -->
<script src="{{ url_for('static', filename='js/dashboard/popup.js') }}"></script>
{% endblock %}
